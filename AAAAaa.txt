#include "pch.h"
#include <iostream>
#include <stdio.h>
#include <stdlib.h>

int main(int argc, char**argv)
{
	if (argc != 2) {
		fprintf(stderr, "Argument not found");
		return EXIT_FAILURE;
	}
	
	char*text = argv[1];
	char*buf = 0;
	long buf_allocated = 0;
	int len = strlen(text);
	int buf_it = 1;
	
		buf_allocated = 3;
		buf = (char*)calloc(1, buf_allocated);
		buf[0] = text[0];
	for (int i = 1; i < len; i++) {
	
		if (text[i] != text[i - 1]) {
			if (i + 2 >= buf_allocated) {// text[6]// text[4]// i+2 //buf[4]// 
				 
					buf_allocated += 3;
					buf = (char*)realloc(buf, buf_allocated);
				}
			buf[buf_it] = text[i];
			buf_it++;
			}
		
	}
	buf[buf_it] = 0;
	for(int i=0;i<strlen(buf);i++)
	fprintf(stdout, "%c", buf[i]);
	free(buf);
	return EXIT_SUCCESS;
}